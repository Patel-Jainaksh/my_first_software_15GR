<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin | Dashboard</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/dependency/bootstrap.min.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/dependency/icon.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/dependency/dataTables.dataTables.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/admin/index.css') }}"
    />
  </head>
  <body>
    <div class="main-content">
      <div class="left-side">
        <div class="small-sidebar">
          <div class="p-0">
            <div class="p-3 text-center">
              <img
                src="{{ url_for('static', filename='images/IA_logo.png') }}"
                alt="Indian Army Logo"
                style="height: 50px; object-fit: contain"
              />
            </div>
          </div>
          <div class="m-0 p-0">
            <ul class="flex-column nav nav-flush nav-pills text-center mb-auto">
              <li class="nav-item">
                <a href="/admin" class="nav-link active"
                  ><span class="material-icons">dashboard</span></a
                >
              </li>
              <li class="nav-item">
                <a href="/admin/cameras" class="nav-link text-dark"
                  ><span class="material-icons">videocam</span></a
                >
              </li>
              <li class="nav-item">
                <a href="/admin/recordings" class="nav-link text-dark"
                  ><span class="material-icons">radio_button_checked</span></a
                >
              </li>
              <li class="nav-item">
                <a href="/admin/log" class="nav-link text-dark"
                  ><span class="material-icons">list</span></a
                >
              </li>
              <li class="nav-item">
                <a href="/logout" class="nav-link text-dark"
                  ><span class="material-icons">logout</span></a
                >
              </li>
            </ul>
          </div>
          <div
            class="d-flex justify-content-center align-items-center flex-column pb-2"
          >
            <!-- <span class="fw-bolder  text-center" style="font-size: 0.75rem;">Developed By </span> -->
            <img
              src="{{ url_for('static', filename='images/MIPL_LOGO.png') }}"
              style="height: 35px; width: 47.5px"
              alt=""
            />
          </div>
        </div>
      </div>

      <div class="right-side">
        <div class="p-2 content px-2">
          <div class="h-100 p-2 cust-card live-feed pb-0 camera-view">
            <div class="d-flex align-items-start justify-content-between mb-3">
              <div
                class="d-flex justify-content-center align-items-center w-25"
              >
                <select name="" class="form-select" id="model-select">
                  <option value="none">No Detection Mode</option>
                  <option value="human">Detection Mode</option>
                  <option value="depth">Depth Mode</option>
                  <option value="AOS">AOS Mode</option>
                </select>
                <div class="form-check form-switch ms-4 w-100">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    role="switch"
                    id="frame_enhancer_switch"
                    checked
                  />
                  <label
                    class="form-check-label w-70"
                    for="flexSwitchCheckChecked"
                    >Frame Optimiser</label
                  >
                </div>
              </div>
              <div class="d-flex align-items-center">
                <div class="btn-group" role="group">
                  <a
                    href="/admin"
                    class="text-dark fs-2 me-2"
                    title="Simple Camera Layout"
                  >
                    <span class="material-icons">grid_4x4</span>
                  </a>
                </div>
                <div id="expand-camera-list" class="fs-2" style="display: none">
                  <span class="material-icons" title="Expand Camera list"
                    >list</span
                  >
                </div>
              </div>
            </div>
            <div class="camera-feed-scrollable">
              <div class="container-fluid">
                <div id="cameraGrid" class="row g-2">
                  <div class="col-md-12">
                    <div class="row g-2">
                      <div class="col-md-8" id="feed1" data-slot="1">
                        <div class="camera-feed mainCameraFeed">
                          <img id="camera_feed_1" />
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="camera-feed mb-2" id="feed2" data-slot="2">
                          <img id="camera_feed_2" />
                        </div>
                        <div class="camera-feed" id="feed3" data-slot="3">
                          <img id="camera_feed_3" />
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-4" id="feed4">
                    <div class="camera-feed">
                      <img id="camera_feed_4" />
                    </div>
                  </div>
                  <div class="col-md-4" id="feed5">
                    <div class="camera-feed">
                      <img id="camera_feed_5" />
                    </div>
                  </div>
                  <div class="col-md-4" id="feed6">
                    <div class="camera-feed">
                      <img id="camera_feed_6" />
                    </div>
                  </div>
                  <div class="col-md-4" id="feed7">
                    <div class="camera-feed">
                      <img id="camera_feed_7" />
                    </div>
                  </div>
                  <div class="col-md-4" id="feed8">
                    <div class="camera-feed">
                      <img id="camera_feed_8" />
                    </div>
                  </div>
                  <div class="col-md-4" id="feed9">
                    <div class="camera-feed">
                      <img id="camera_feed_9" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="camera-list">
            <div class="d-flex justify-content-between m-2">
              <h2>Cameras</h2>
              <span id="close-camera-list" class="material-icons"> close </span>
            </div>
            <hr class="m-2" />
            <div class="p-2 camera-list-scrollable">
              <ul class="list-group" id="cameraListContainer"></ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div
      id="toast-container"
      style="
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 3000;
        display: flex;
        flex-direction: column;
        gap: 10px;
      "
    ></div>

    <!-- Log Area -->
    <div id="liveLogPanel" class="log-panel shadow-sm border rounded-top p-0">
      <!-- ðŸ”¼ Resize handle -->
      <div id="logResizeHandle" class="log-resize-handle"></div>

      <!-- Header -->
      <div
        class="log-panel-header d-flex justify-content-between align-items-center px-2 py-1 border-bottom bg-light"
      >
        <span class="fw-bold">ðŸ“‹ Live Logs</span>
        <span id="toggleLogPanelBtn" class="material-icons">
          keyboard_arrow_down
        </span>
      </div>

      <!-- Bootstrap styled list -->
      <ul id="live-log-list" class="list-group list-group-flush small"></ul>
    </div>
    <!-- <div style="position:fixed;bottom:10px;left:10px;background-color:rgba(17, 30, 78, 0.5);padding:5px;border-radius:5px;color:#fff;z-index:8000"><span class=" " >Developed by MIPL</span></div> -->

    <script src="{{ url_for('static', filename='js/dependency/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dependency/jquery-3.7.1.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dependency/dataTables.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dependency/socket.io.min.js') }}"></script>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='js/admin/alertView.js') }}"></script>
  </body>
</html>
